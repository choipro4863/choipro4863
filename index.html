<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>보험 & BMI 계산기(약관본부)</title>
    <style>
        .result {
            background-color: yellow;
            font-size: 24px;
            font-weight: bold;
            padding: 10px;
            display: inline-block;
            border: 2px solid #000;
            border-radius: 5px;
            margin-top: 10px;
        }
        .main-title {
            background-color: lightblue;
            border: 2px solid #000;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        input {
            font-size: 16px;
            padding: 8px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1 class="main-title">보험나이 & BMI 계산기(약관본부)</h1>

    <h2>출생일 입력</h2>
    <label for="birthDate">출생일: </label>
    <input type="date" id="birthDate" oninput="calculateInsuranceAge()"><br><br>

    <p id="insuranceAgeResult" class="result">보험 나이: -</p>

    <script>
        function calculateInsuranceAge() {
            const birthDateInput = document.getElementById("birthDate").value;
            if (!birthDateInput) {
                document.getElementById("insuranceAgeResult").innerText = "보험 나이: -";
                return;
            }

            const birthDate = new Date(birthDateInput);
            const currentDate = new Date();

            // 생일 기준 6개월 전 날짜 계산
            const sixMonthsBeforeBirthday = new Date(birthDate);
            sixMonthsBeforeBirthday.setMonth(birthDate.getMonth() - 6);

            // 날짜가 유효하지 않을 경우 보정
            if (sixMonthsBeforeBirthday.getMonth() !== (birthDate.getMonth() - 6 + 12) % 12) {
                sixMonthsBeforeBirthday.setDate(0);
            }

            // 현재 연도에 해당하는 6개월 전 날짜 계산
            const sixMonthsBeforeThisYear = new Date(currentDate.getFullYear(), sixMonthsBeforeBirthday.getMonth(), birthDate.getDate());

            // 보험 나이 계산
            let insuranceAge = currentDate.getFullYear() - birthDate.getFullYear();

            // 오늘 날짜가 6개월 전 기준일을 지났다면 보험 나이 증가
            if (currentDate >= sixMonthsBeforeThisYear) {
                insuranceAge += 1;
            }

            document.getElementById("insuranceAgeResult").innerText = `보험 나이: ${insuranceAge}세`;
        }
    </script>
</body>
<footer>
  <p>만든사람 : 최기영 010-7449-4863</p>
</footer>
</html>
